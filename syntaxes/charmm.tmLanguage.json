{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "CHARMM",
  "patterns": [
    {
      "include": "#embedded_rtf"
    },
    {
      "include": "#embedded_prm"
    },
    {
      "include": "#embedded_block"
    },
    {
      "include": "#embedded_noe"
    },
    {
      "include": "#psf_section_headers"
    },
    {
      "include": "#comments"
    },
    {
      "include": "#variables"
    },
    {
      "include": "#control_flow"
    },
    {
      "include": "#comparison_operators"
    },
    {
      "include": "#main_commands"
    },
    {
      "include": "#dynamics_commands"
    },
    {
      "include": "#energy_commands"
    },
    {
      "include": "#structure_commands"
    },
    {
      "include": "#coordinate_commands"
    },
    {
      "include": "#io_commands"
    },
    {
      "include": "#analysis_commands"
    },
    {
      "include": "#solvation_commands"
    },
    {
      "include": "#constraint_commands"
    },
    {
      "include": "#qm_commands"
    },
    {
      "include": "#misc_commands"
    },
    {
      "include": "#subcommands"
    },
    {
      "include": "#selection_keywords"
    },
    {
      "include": "#rtf_keywords"
    },
    {
      "include": "#prm_keywords"
    },
    {
      "include": "#psf_keywords"
    },
    {
      "include": "#storage"
    },
    {
      "include": "#constants"
    },
    {
      "include": "#continuation"
    }
  ],
  "repository": {
    "embedded_rtf": {
      "begin": "(?i)^\\s*(READ)\\s+(RTF)\\s+(CARD)\\b(?!.*(?:NAME|UNIT))",
      "beginCaptures": {
        "1": {
          "name": "keyword.control.command.charmm"
        },
        "2": {
          "name": "storage.type.structure.charmm"
        },
        "3": {
          "name": "support.function.io.charmm"
        }
      },
      "end": "(?i)^\\s*(END)\\b",
      "endCaptures": {
        "1": {
          "name": "keyword.control.command.charmm"
        }
      },
      "name": "meta.embedded.block.rtf.charmm",
      "contentName": "source.rtf.charmm",
      "patterns": [
        {
          "include": "source.rtf.charmm"
        }
      ],
      "comment": "Only matches inline RTF content, not READ RTF CARD NAME/UNIT file"
    },
    "embedded_prm": {
      "begin": "(?i)^\\s*(READ)\\s+(PARA|PARAM|PARAMETER)\\s+(CARD)\\b(?!.*(?:NAME|UNIT))",
      "beginCaptures": {
        "1": {
          "name": "keyword.control.command.charmm"
        },
        "2": {
          "name": "storage.type.structure.charmm"
        },
        "3": {
          "name": "support.function.io.charmm"
        }
      },
      "end": "(?i)^\\s*(END)\\b",
      "endCaptures": {
        "1": {
          "name": "keyword.control.command.charmm"
        }
      },
      "name": "meta.embedded.block.prm.charmm",
      "comment": "Only matches inline PRM content, not READ PARA CARD NAME/UNIT file",
      "contentName": "source.prm.charmm",
      "patterns": [
        {
          "include": "source.prm.charmm"
        }
      ]
    },
    "embedded_block": {
      "begin": "(?i)^\\s*(BLOC|BLOCK)\\b(?!.*END)",
      "beginCaptures": {
        "1": {
          "name": "keyword.control.block.charmm"
        }
      },
      "end": "(?i)^\\s*(END)\\b",
      "endCaptures": {
        "1": {
          "name": "keyword.control.block.charmm"
        }
      },
      "name": "meta.embedded.block.block.charmm",
      "patterns": [
        {
          "include": "#comments"
        },
        {
          "include": "#variables"
        },
        {
          "include": "#block_commands"
        },
        {
          "include": "#constants"
        }
      ]
    },
    "embedded_noe": {
      "begin": "(?i)^\\s*(NOE)\\b(?!.*END)",
      "beginCaptures": {
        "1": {
          "name": "keyword.control.noe.charmm"
        }
      },
      "end": "(?i)^\\s*(END)\\b",
      "endCaptures": {
        "1": {
          "name": "keyword.control.noe.charmm"
        }
      },
      "name": "meta.embedded.block.noe.charmm",
      "patterns": [
        {
          "include": "#comments"
        },
        {
          "include": "#variables"
        },
        {
          "include": "#noe_commands"
        },
        {
          "include": "#selection_keywords"
        },
        {
          "include": "#constants"
        }
      ]
    },
    "block_commands": {
      "patterns": [
        {
          "name": "support.function.block.charmm",
          "match": "\\b(?i)(CALL|COEF|COEFF|MSLD|PMEL|LANG|LDIN|LDBI|QLDM|RMLA|ADEX|EXCL)\\b"
        },
        {
          "name": "support.function.block.charmm",
          "match": "\\b(?i)(theta|thet|msma|pssp|alam|dlam|dlta)\\b",
          "comment": "MSLD lambda parameters"
        },
        {
          "name": "support.function.block.charmm",
          "match": "\\b(?i)(fnex|fnsi|fpie|soft|flam|flie)\\b",
          "comment": "MSLD functional forms"
        },
        {
          "name": "support.function.block.charmm",
          "match": "\\b(?i)(nsit|nlig|nrep|nref|nblk)\\b",
          "comment": "BLOCK/MSLD counts"
        }
      ]
    },
    "noe_commands": {
      "patterns": [
        {
          "name": "support.function.noe.charmm",
          "match": "\\b(?i)(ASSI|ASSIGN|REST|RESTRAINT|RESET|PRIN|PRINT|ANAL|ANALYSIS|SCAL|SCALE|KMIN|KMAX|RMIN|RMAX|FMAX|RSWI|REXP|IEXP|IREX)\\b"
        }
      ]
    },
    "psf_section_headers": {
      "patterns": [
        {
          "name": "entity.name.section.psf.charmm",
          "match": "!(NTITLE|NATOM|NBOND|NTHETA|NPHI|NIMPHI|NDON|NACC|NNB|NGRP|NUMLP|NCRTERM|MOLNT)\\b",
          "comment": "PSF section headers - specific known headers only"
        }
      ]
    },
    "comments": {
      "patterns": [
        {
          "name": "comment.line.exclamation.charmm",
          "match": "!.*$",
          "comment": "Comments starting with !"
        },
        {
          "name": "markup.heading.title.charmm",
          "match": "^\\s*\\*.*$",
          "comment": "Title lines starting with * - distinct from comments"
        }
      ]
    },
    "variables": {
      "patterns": [
        {
          "name": "variable.other.readwrite.charmm",
          "match": "@[a-zA-Z_][a-zA-Z0-9_]*"
        },
        {
          "name": "variable.other.query.charmm",
          "match": "\\?[a-zA-Z_][a-zA-Z0-9_]*"
        }
      ]
    },
    "control_flow": {
      "patterns": [
        {
          "name": "keyword.control.conditional.charmm",
          "match": "\\b(?i)(if|then|else|endif|endi)\\b"
        },
        {
          "name": "keyword.control.loop.charmm",
          "match": "\\b(?i)(for|label|labe|goto|return|retu|stream|stre)\\b"
        },
        {
          "name": "keyword.control.flow.charmm",
          "match": "\\b(?i)(stop|bomb|boml|bomlev|prnlev|prle|prnl|wrnlev|wrnl|iolev|iole)\\b"
        }
      ]
    },
    "comparison_operators": {
      "patterns": [
        {
          "name": "keyword.operator.comparison.charmm",
          "match": "\\b(?i)(\\.eq\\.|\\.ne\\.|\\.lt\\.|\\.gt\\.|\\.le\\.|\\.ge\\.|\\.ae\\.|eq|ne|lt|gt|le|ge|ae)\\b"
        },
        {
          "name": "keyword.operator.arithmetic.charmm",
          "match": "\\b(?i)(incr|decr|mult|divi|expo|by)\\b"
        }
      ]
    },
    "main_commands": {
      "patterns": [
        {
          "name": "keyword.control.command.charmm",
          "match": "\\b(?i)(dyna|dynamics|mini|minim|minimize|vibr|vibran|corr|correl|traj|trajectory)\\b"
        },
        {
          "name": "keyword.control.command.charmm",
          "match": "\\b(?i)(ener|energy|gete|inte|interaction|nbon|nbond|nbonds|hbon|hbond|upda|update)\\b"
        },
        {
          "name": "keyword.control.command.charmm",
          "match": "\\b(?i)(gene|generate|patc|patch|auto|autogen|autogenerate|buil|build|hbui|hbuild|join|noangle|noangl|nodihedral|nodihe|warn|setup|setu)\\b"
        },
        {
          "name": "keyword.control.command.charmm",
          "match": "\\b(?i)(abnr|sd|nrap|conj|powe|powell)\\b",
          "comment": "Minimization methods"
        }
      ]
    },
    "dynamics_commands": {
      "patterns": [
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(nose|tpco|tpcontrol|nos2|shake|shak|mts|tamd|tmdi|tmd|dims|trek|trav|travel|rush|pull|repl|replica|repd|repdstr|domd|domdec)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(leap|vv2|vver|verlet|start|strt|rest|restart|cpt|veloci|timestep|time|nstep|nste)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(nsavc|nsavv|nprint|npri|iprfrq|ihtfrq|ieqfrq|ntrfrq|isvfrq|inbfrq|inbf|ihbfrq|ihbf|imgfrq)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(firstt|first|finalt|final|teminc|tbath|tref|tcoup|pref|pcoup|pmass|pgamma)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(iunrea|iunread|iunwri|iuncrd|iunvel|iunldm|kunit|nsavc|nsavv|nsavl|iseed|iasors|iasvel)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(prmc|iprs|prdv|tstruc|tcons|pcmc|ipcmc|iprsf)\\b",
          "comment": "Pressure/MC options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(ichecw|echeck|twindl|twindh|pwindl|pwindh|hotefn|hotefx|hotofn|hotofx)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(sgmd|sgft|tsgavg|sgbz|sgfr|sgmv|tempsg)\\b",
          "comment": "Self-guided MD options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(eips|vips|apts|pxyz|eipsv|ipvsh|ripfr|ripsp)\\b",
          "comment": "Extended IMAGES options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(pint|pathint|rpat|rpath|path|string|stri|stringm|abfp|abfc|eabf|umbrella|umbr|wham|gamu|gamus|gumb)\\b"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(hoover|hoov|reft|tmass|tmas|pconstant|pcon|iupten|iupt|iptfrq|iptf)\\b",
          "comment": "Pressure/temperature control options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(langevin|lang|cptleap|cptl)\\b",
          "comment": "Langevin dynamics and integrators"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(ilbfrq|ilbf|tempi)\\b",
          "comment": "Temperature and frequency options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(reus|remd|rxmd|tree|qref)\\b",
          "comment": "Replica exchange options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(sm0k|smok|ftsm|voro|voronoi)\\b",
          "comment": "String method options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(tolg|tole|tolf|step|iscvel|iscv)\\b",
          "comment": "Minimization/dynamics tolerance options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(exlm|msph|sph|dph|iores|sync)\\b",
          "comment": "Replica exchange pH-MD options"
        },
        {
          "name": "entity.name.function.dynamics.charmm",
          "match": "\\b(?i)(gpuid|gpui)\\b",
          "comment": "GPU device selection"
        }
      ]
    },
    "energy_commands": {
      "patterns": [
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(bloc|block|mmfp|pert|eten|etsr|xtbd|tkrn|krnn|flmk|varc|varcut)\\b"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(cons|constraint|harm|dihe|dihedral|cdih|cldh|clpc|drop|rcon|rxcons|rgyr|rgycons|dmco|dmcons|noe|resd|pull)\\b"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(bond|angl|angle|urey|dihe|dihedral|impr|improper|vdw|vdwa|vdwaals|elec|coul|hbon|hbond|cmap|user)\\b"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(ewald|pme|pmel|fft|kappa|kmax|fftx|ffty|fftz|order|ctonnb|ctofnb|cutnb|cutim|wmin|eps|e14fac|nbxmod)\\b"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(atom|cdie|rdie|vdis|vswi|vswitched|vshift|cdie|rdie|switch|shift|fswitch|fshift|force)\\b"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(inbfr|cdiel|rdiel|nbxm)\\b",
          "comment": "NBONDS control options"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(aexp|rexp|haex|aaex)\\b",
          "comment": "Hydrogen bond exponential parameters"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(vatom|vdistance|vdist|vgroup|vgro)\\b",
          "comment": "VDW grouping options"
        },
        {
          "name": "support.class.energy.charmm",
          "match": "\\b(?i)(pmewald|pmew|lrc|lrvdw)\\b",
          "comment": "PME and long-range correction options"
        }
      ]
    },
    "structure_commands": {
      "patterns": [
        {
          "name": "storage.type.structure.charmm",
          "match": "\\b(?i)(read|rtf|param|para|parameter|psf|coor|coordinate|topo|topology|sequence|sequ|ic)\\b"
        },
        {
          "name": "storage.type.structure.charmm",
          "match": "\\b(?i)(dele|delete|rena|rename|join|merg|merge|lone|lonepair|drud|drude|link|addl|rell)\\b"
        },
        {
          "name": "storage.type.structure.charmm",
          "match": "\\b(?i)(dono|donor|acce|acceptor|first|last|setup|mass|charge|segid|resid|resn|resname|atom|type|ires|iseg)\\b"
        },
        {
          "name": "storage.type.structure.charmm",
          "match": "\\b(?i)(nter|cter|disu|glyp|pept|ctio|ntio)\\b",
          "comment": "Terminal patches and common patches"
        },
        {
          "name": "storage.type.structure.charmm",
          "match": "\\b(?i)(angles|angl|dihedrals|dihe|noangles|noang|nodihedrals|nodihe)\\b",
          "comment": "AUTOGENERATE options"
        }
      ]
    },
    "coordinate_commands": {
      "patterns": [
        {
          "name": "variable.language.coordinate.charmm",
          "match": "\\b(?i)(coor|coordinate|init|copy|swap|scal|scale|trans|tran|translate|rota|rotate|orie|orient|axis)\\b"
        },
        {
          "name": "variable.language.coordinate.charmm",
          "match": "\\b(?i)(xdir|ydir|zdir|xref|yref|zref|xcen|ycen|zcen|phi|psi|theta)\\b",
          "comment": "Direction and reference keywords"
        },
        {
          "name": "variable.language.coordinate.charmm",
          "match": "\\b(?i)(rms|rmsd|diff|dist|distance|mind|mindist|maxd|maxdist|aver|average|stat|statistics|dupl|duplicate)\\b"
        },
        {
          "name": "variable.language.coordinate.charmm",
          "match": "\\b(?i)(dmat|dmatrix|cova|covariance|iner|inertia|rgyr|gyration|surf|surface|volu|volume|dipo|dipole)\\b"
        },
        {
          "name": "variable.language.coordinate.charmm",
          "match": "\\b(?i)(heli|helix|lsqp|lsqplane|paxa|principal|secs|secondary|puck|pucker|forc|force|sear|search|oper)\\b"
        },
        {
          "name": "variable.language.coordinate.charmm",
          "match": "\\b(?i)(comp|comparison|fact|factor|weig|weight|mass|norot|norotation|notr|notranslation|sele|select|end)\\b"
        }
      ]
    },
    "io_commands": {
      "patterns": [
        {
          "name": "support.function.io.charmm",
          "match": "\\b(?i)(open|clos|close|read|writ|write|prin|print|form|formatted|unfo|unformatted|unit|name|card|cards|file|append|appe)\\b"
        },
        {
          "name": "support.function.io.charmm",
          "match": "\\b(?i)(echo|echu|titl|title|ldti|time|show|inqu|inquire|rewi|rewind|rewf|rewt|get|skip|trim)\\b"
        },
        {
          "name": "support.function.io.charmm",
          "match": "\\b(?i)(traj|trajectory|dcd|binary|rest|restart|crd|pdb|psf|iofo|ioformat|exte|extended|noex|noextended)\\b"
        },
        {
          "name": "support.function.io.charmm",
          "match": "\\b(?i)(mij|phix|mcm|trj|namd|velc|vele|velf)\\b",
          "comment": "Additional file types"
        },
        {
          "name": "support.function.io.charmm",
          "match": "\\b(?i)(firstu|firs|nunit|nuni|outu|recenter|rece|flex)\\b",
          "comment": "Trajectory merge and I/O options"
        }
      ]
    },
    "analysis_commands": {
      "patterns": [
        {
          "name": "constant.other.analysis.charmm",
          "match": "\\b(?i)(anal|analysis|corr|correl|corre|correlation|moni|monitor|hist|histogram|time|series)\\b"
        },
        {
          "name": "constant.other.analysis.charmm",
          "match": "\\b(?i)(nmr|noe|rdc|larm|larmord|ccs|ssnmr|jcou|coupling|mull|mulliken|esta|estats)\\b"
        },
        {
          "name": "constant.other.analysis.charmm",
          "match": "\\b(?i)(molv|molvib|qub|test|fitc|fitcharge|fitp|fitparam|rdfs|rdfsol|shel|shell|cors|corsol)\\b"
        },
        {
          "name": "constant.other.analysis.charmm",
          "match": "\\b(?i)(maxtime|maxt|maxseries|maxs|maxtimesteps|maxatoms|maxa|noup)\\b",
          "comment": "CORREL limits"
        },
        {
          "name": "constant.other.analysis.charmm",
          "match": "\\b(?i)(stat|secs|verbose|verb|covariance|cova|dims|dyna)\\b",
          "comment": "Analysis output options"
        }
      ]
    },
    "solvation_commands": {
      "patterns": [
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(gbor|genborn|gbim|gbmv|gbsw|mses|pbeq|eef1|aspener|sasa|sasae|scpi|scpism|fact|facts|rism)\\b"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(imag|image|crys|crystal|xtla|xtlb|xtlc|alpha|beta|gamma|bycb|bycc|bycu|cubic|tetr|tetragonal|orth|orthorhombic)\\b"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(impa|impatom|sbou|sbound|boun|boundary|sphere|rhdo|rhombic|hexa|hexagonal|mono|monoclinic|tric|triclinic)\\b"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(phmd|phte|consph|cnsp|mobh|mobhy|dbia|denbias|epmf|gopa|gopair|prim|primo)\\b"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(sgamma|sgam|nang|hybrid|hybr|conc)\\b",
          "comment": "GBSW/GBMV parameters"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(tcps|teps|gamm|tavw|smooth|smoo|swin)\\b",
          "comment": "Solvation model parameters"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(npbeq|npbe|sten|membrane|memb)\\b",
          "comment": "PBEQ and membrane options"
        },
        {
          "name": "entity.name.type.solvation.charmm",
          "match": "\\b(?i)(octa|octahedral|octh|cutoff|cuto)\\b",
          "comment": "Crystal shape and cutoff options"
        }
      ]
    },
    "qm_commands": {
      "patterns": [
        {
          "name": "string.regexp.qm.charmm",
          "match": "\\b(?i)(quan|quantum|game|gamess|gaus|gaussian|qche|qchem|qtur|qturbo|nwch|nwchem|squa|squantm|sccd|sccdftb)\\b"
        },
        {
          "name": "string.regexp.qm.charmm",
          "match": "\\b(?i)(mndo|cadp|cadpac|ifqn|qmmm|addl|rell|qmfi|qmfix|mkdu|mkdummy)\\b"
        },
        {
          "name": "string.regexp.qm.charmm",
          "match": "\\b(?i)(cheq|fluc|flucq|fqba|pipf|pfba|drud|drude|pola|polar|mtp|mtpl)\\b"
        }
      ]
    },
    "misc_commands": {
      "patterns": [
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(bann|banner|conf|config|pref|preference|date|fast|rese|reset|envi|environment|syst|system|frcd)\\b"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(aidx|quic|quick|rand|random|iran|irandom|long|short|shor|lowe|lower|uppe|upper|user|usersb)\\b"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(blad|blade|omm|openmm|domd|domdec|ocl|opencl|grid|fftg|fftdock|ommd|mcom|multicom)\\b"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(mc|mcma|move|galg|genetic|csa|mast|master|etra|etraj|rece|tran|msca|mscale|serv|server)\\b"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(gnn|emap|shap|shapes|olap|overlap|torq|torque|afm|axd|hqbm|rxnc|lupo|lupopt|fren|frencalc)\\b"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(zmod|zerom|zmat|prot|proto|four|fourd|edif|mlte|cvel|veloci|dead|deadline|atli|alternate|nbac|bact)\\b"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(dlb|gpu|only|cuda|cude|acce|accelerator)\\b",
          "comment": "GPU/accelerator options"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(faster|fast|bomblev|boml|format|form|skip)\\b",
          "comment": "Control and format options"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(aidx|adumb|abpo|apbs|merck|merc)\\b",
          "comment": "Special modules"
        },
        {
          "name": "meta.function-call.misc.charmm",
          "match": "\\b(?i)(gcmc|dimb|enth|drms|vmod)\\b",
          "comment": "Additional analysis modules"
        }
      ]
    },
    "subcommands": {
      "patterns": [
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(fill|edit|bild|build|seed|dele|keep|purg|purge|para|parameter|deri|derive|rest|restore|save|gene|generate)\\b"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(clea|clear|best|rela|relative|abso|absolute|pcah|path|heli|helix)\\b"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(wmai|wmain|wcom|wcomp|xcom|ycom|zcom|xref|yref|zref|econ|epco|rsca|wcad|alph|effe|radi|igno|aspv|vdws)\\b"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(reci|sign|inde|index|norm|normalize|powe|power|ipow|sqrt|qhis|fqhi|hbco|tota|total)\\b"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(fdim|fdco|fdeq|volu|qrad|sigm|bsol|qiac|qsac|fqch|fqma|fqpr|fqze|fqjz|fqcf|fqol|gcmc|gcbl|sgwt|sgga)\\b"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(sdru|tmsc|conv|convert|draw|smap|cont|contact)\\b"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(fbeta|fbet|wmain|wmai|wcomp|wcom|charge|char|mass|zero)\\b",
          "comment": "SCALAR array names"
        },
        {
          "name": "support.function.subcommand.charmm",
          "match": "\\b(?i)(divid|divi|div|mult|add|sub|set|show|stat|aver|maxv|minv)\\b",
          "comment": "SCALAR operations"
        }
      ]
    },
    "selection_keywords": {
      "patterns": [
        {
          "name": "keyword.other.selection.charmm",
          "match": "\\b(?i)(sele|select|end|all|none|bynu|bynum|segid|segi|iseg|resid|ires|resn|resname|atom|type|chem|chemical)\\b"
        },
        {
          "name": "keyword.other.selection.charmm",
          "match": "\\b(?i)(prop|property|point|around|subset|recall|define|show|store|call|reset|init|initialize)\\b"
        },
        {
          "name": "keyword.operator.selection.charmm",
          "match": "\\b(?i)(\\.and\\.|\\.or\\.|\\.not\\.|\\.around\\.|\\.subset\\.|\\.bonded\\.|\\.byres\\.|\\.bygroup\\.)\\b"
        },
        {
          "name": "keyword.other.selection.charmm",
          "match": "\\b(?i)(byres|byre|byseg|byse|inter|inte)\\b",
          "comment": "Selection modifiers"
        },
        {
          "name": "keyword.other.selection.charmm",
          "match": "\\b(?i)(byresid|byrei|bysegid|bysei|hydrogen|hydr)\\b",
          "comment": "Image and selection modifiers"
        }
      ]
    },
    "rtf_keywords": {
      "patterns": [
        {
          "name": "keyword.declaration.rtf.charmm",
          "match": "^\\s*(?i)(RESI|PRES|MASS|DECL|DEFA|AUTO|END)\\b"
        },
        {
          "name": "entity.name.type.rtf.charmm",
          "match": "\\b(?i)(GROU|ATOM|BOND|ANGL|DIHE|IMPR|CMAP|DONO|ACCE|IC|PATC|BILD|DOUB|TRIP|LONE|LPIN)\\b"
        },
        {
          "name": "keyword.control.rtf.charmm",
          "match": "\\b(?i)(FIRS|LAST|DRUD|ANIS|THET)\\b"
        }
      ]
    },
    "prm_keywords": {
      "patterns": [
        {
          "name": "keyword.declaration.prm.charmm",
          "match": "^\\s*(?i)(ATOM|BOND|ANGL|DIHE|IMPR|CMAP|NONB|NBFI|HBON|END|THET|PHI)\\b"
        },
        {
          "name": "entity.name.type.prm.charmm",
          "match": "\\b(?i)(MASS|CUTN|CTOF|CTON|EPS|E14F|WMIN|NBXM|CDIE|RDIE|SWIT|VSWI|VDIS|GEOM|SIGM|EPSI)\\b"
        }
      ]
    },
    "psf_keywords": {
      "patterns": [
        {
          "name": "keyword.declaration.psf.charmm",
          "match": "^\\s*(?i)(PSF|EXT|XPLO|CMAP|CHEQ|DRUD)\\b"
        },
        {
          "name": "keyword.other.psf.charmm",
          "match": "\\b(?i)(NTIT|NATI|NATOM|NBON|NTHE|NPHI|NIMP|NDON|NACC|NNB|NGRP|MOLN|NUML|NCRT)\\b"
        }
      ]
    },
    "storage": {
      "patterns": [
        {
          "name": "storage.type.charmm",
          "match": "\\b(?i)(set|define|defi|name|unit|calc|scal|scalar|dimension|dime)\\b"
        }
      ]
    },
    "constants": {
      "patterns": [
        {
          "name": "constant.numeric.float.charmm",
          "match": "\\b-?\\d+\\.\\d*([eEdD][+-]?\\d+)?\\b"
        },
        {
          "name": "constant.numeric.integer.charmm",
          "match": "\\b-?\\d+\\b"
        },
        {
          "name": "constant.language.boolean.charmm",
          "match": "\\b(?i)(true|false|on|off|yes|no)\\b"
        }
      ]
    },
    "continuation": {
      "patterns": [
        {
          "name": "punctuation.separator.continuation.charmm",
          "match": "-\\s*$",
          "comment": "Hyphen at end of line indicates continuation to next line"
        }
      ]
    },
    "constraint_commands": {
      "patterns": [
        {
          "name": "keyword.control.constraint.charmm",
          "match": "\\b(?i)(cons|fix|harm|bonh|rmsd|maxrmsd|mxrm)\\b",
          "comment": "Constraint command keywords"
        },
        {
          "name": "keyword.control.constraint.charmm",
          "match": "\\b(?i)(shake|shak|param|parameter|para|tol|tolerance|tole)\\b",
          "comment": "SHAKE constraint options"
        },
        {
          "name": "keyword.control.constraint.charmm",
          "match": "\\b(?i)(fast|nofast|nofa|water|wate|tip3|tip4)\\b",
          "comment": "SHAKE water/fast options"
        }
      ]
    }
  },
  "scopeName": "source.inp"
}
